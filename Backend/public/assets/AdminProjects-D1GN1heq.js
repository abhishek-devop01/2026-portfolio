import{c as E,a as A,b as C,r as d,j as e,i as h,s as P,d as M,e as S,f as D}from"./index-A1No0krv.js";import{P as v,a as z}from"./plus-DDFwnQNi.js";import{T as q}from"./trash-2-HQDQK7tl.js";import{X as I}from"./x-CpQocB_i.js";import{U as T}from"./upload-BrLW0UZD.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_=E("external-link",U),L=a=>{const[m,n]=d.useState(a);return{values:m,handleChange:r=>{const{name:c,value:u}=r.target;n(i=>({...i,[c]:u}))},resetForm:()=>{n(a)},setFormValues:r=>{n(r)}}},$=()=>{const a=A(),{projects:m}=C(t=>t.projects),[n,f]=d.useState(null),[j,p]=d.useState(!1),[r,c]=d.useState(null),[u,i]=d.useState(""),{values:l,handleChange:x,resetForm:y,setFormValues:w}=L({thumbnail:"",title:"",year:"",role:"",link:""}),N=t=>{const s=t.target.files?.[0];if(s){f(s);const o=new FileReader;o.onloadend=()=>i(o.result),o.readAsDataURL(s)}},b=(t=null)=>{t?(c(t),w(t),i(t.thumbnail)):(c(null),y(),i("")),p(!0)},g=()=>{p(!1),c(null),y(),i("")};d.useEffect(()=>{async function t(){const s=await h.get("/api/admin/projects",{withCredentials:!0});a(P(s.data.projects))}t()},[a]);const k=async t=>{t.preventDefault();try{const s=new FormData;if(s.append("title",l.title),s.append("year",l.year),s.append("role",l.role),s.append("link",l.link||""),n&&s.append("thumbnail",n),r){const o=await h.patch(`/api/admin/projects/${r._id}`,s,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});a(S(o.data.project))}else{const o=await h.post("/api/admin/projects",s,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});a(D(o.data.project))}g()}catch(s){console.error("Error uploading project:",s)}},F=async t=>{window.confirm("Are you want to delete this project?")&&(await h.delete(`/api/admin/projects/${t}`,{withCredentials:!0}),a(M(t)))};return e.jsx("div",{className:"w-full min-h-full bg-[#1a1a1a] p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Manage Projects"}),e.jsx("p",{className:"text-gray-400",children:"Upload and manage your portfolio projects"})]}),e.jsxs("button",{onClick:()=>b(),className:"flex items-center cursor-pointer gap-2 px-6 py-3 bg-[#EF6A93] rounded-lg hover:bg-[#EF6A93]/80 transition-colors text-white font-medium",children:[e.jsx(v,{size:20}),"Add New Project"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(t=>e.jsxs("div",{className:"group relative bg-[#252525] rounded-lg overflow-hidden hover:bg-[#2a2a2a] transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-[#1f1f1f]",children:[e.jsx("img",{src:t.thumbnail||"./images/comingsoon.webp",alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),t.link&&e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"absolute top-3 right-3 p-2 bg-black/50 rounded-lg hover:bg-black/70 transition-colors",children:e.jsx(_,{size:16,className:"text-white"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:t.title}),e.jsx("span",{className:"px-3 py-1 bg-[#EF6A93]/20 text-[#EF6A93] rounded-full text-sm font-medium",children:t.year})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:t.role}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>b(t),className:"flex-1 cursor-pointer flex items-center justify-center gap-2 px-4 py-2 bg-[#3a3a3a] text-gray-300 rounded-lg hover:bg-[#404040] transition-colors",children:[e.jsx(z,{size:16}),"Edit"]}),e.jsxs("button",{onClick:()=>F(t._id),className:"flex-1 cursor-pointer flex items-center justify-center gap-2 px-4 py-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 transition-colors",children:[e.jsx(q,{size:16}),"Delete"]})]})]})]},t._id))}),m.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-[#252525] rounded-full flex items-center justify-center",children:e.jsx(v,{size:40,className:"text-gray-500"})}),e.jsx("h3",{className:"text-2xl font-semibold text-white mb-2",children:"No projects yet"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Start by adding your first project"}),e.jsx("button",{onClick:()=>b(),className:"px-6 py-3 bg-[#EF6A93] rounded-lg hover:bg-[#EF6A93]/80 transition-colors text-white font-medium",children:"Add Project"})]}),j&&e.jsx("div",{className:"fixed h-full inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-[#1f1f1f] parent rounded-lg w-full max-w-2xl max-h-[80vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"sticky z-30 top-0 bg-[#1f1f1f] border-b border-[#2a2a2a] p-6 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:r?"Edit Project":"Add New Project"}),e.jsx("button",{onClick:g,className:"p-2 hover:bg-[#2a2a2a] rounded-lg transition-colors",children:e.jsx(I,{size:24,className:"text-gray-400"})})]}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Thumbnail Image"}),e.jsx("div",{className:"relative",children:u?e.jsxs("div",{className:"relative w-full h-48 rounded-lg overflow-hidden group",children:[e.jsx("img",{src:u,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxs("label",{className:"cursor-pointer px-4 py-2 bg-[#EF6A93] rounded-lg hover:bg-[#EF6A93]/80 transition-colors text-white",children:["Change Image",e.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"})]})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-[#EF6A93] rounded-lg cursor-pointer hover:border-[#EF6A93]/70 transition-colors bg-[#252525]",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#EF6A93]/10 flex items-center justify-center mb-3",children:e.jsx(T,{size:32,className:"text-[#EF6A93]"})}),e.jsx("span",{className:"text-white font-medium mb-1",children:"Click to upload your thumbnail"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"PNG, JPG (Max 5MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Project Title *"}),e.jsx("input",{type:"text",name:"title",value:l.title,onChange:x,required:!0,className:"w-full px-4 py-3 bg-[#252525] border border-[#3a3a3a] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#EF6A93] transition-colors",placeholder:"Enter project title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Year *"}),e.jsx("input",{type:"text",name:"year",value:l.year,onChange:x,required:!0,className:"w-full px-4 py-3 bg-[#252525] border border-[#3a3a3a] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#EF6A93] transition-colors",placeholder:"2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Your Role *"}),e.jsx("input",{type:"text",name:"role",value:l.role,onChange:x,required:!0,className:"w-full px-4 py-3 bg-[#252525] border border-[#3a3a3a] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#EF6A93] transition-colors",placeholder:"e.g., Lead Developer, Designer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Project Link"}),e.jsx("input",{type:"url",name:"link",value:l.link,onChange:x,className:"w-full px-4 py-3 bg-[#252525] border border-[#3a3a3a] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#EF6A93] transition-colors",placeholder:"https://example.com"})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:e.jsxs("p",{className:"text-blue-400 text-sm",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," ","All fields marked with * are required. Make sure to add a high-quality thumbnail image."]})}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:g,className:"flex-1 px-6 py-3 bg-[#2a2a2a] border border-[#3a3a3a] rounded-lg text-white hover:bg-[#333333] transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-[#EF6A93] rounded-lg hover:bg-[#EF6A93]/80 transition-colors text-white font-medium",children:r?"Update Project":"Add Project"})]})]})]})})]})})};export{$ as default};
