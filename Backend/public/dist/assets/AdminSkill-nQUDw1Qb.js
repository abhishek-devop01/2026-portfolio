import{c as k,a as v,b as S,r as x,j as e,i as n,l as E,m as A,n as F,o as C}from"./index-CirQbU73.js";import{u as D,a as _}from"./index.esm-Dzfssu8d.js";import{P as q,a as I}from"./plus-CBEM6B1c.js";import{T as m}from"./trash-2-BFUU_e_b.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],$=k("code-xml",T),z=()=>{const l=v(),{skills:h}=S(t=>t.skills),[i,r]=x.useState(null),{register:o,control:u,handleSubmit:p,reset:c,setValue:a}=D({defaultValues:{title:"",icon:"",content:[{section:""}]}}),{fields:d,append:b,remove:f}=_({control:u,name:"content"});x.useEffect(()=>{async function t(){const s=await n.get("/api/admin/skills",{withCredentials:!0});l(E(s.data.skills))}t()},[l]);const g=async t=>{if(i)try{const s=await n.patch(`/api/admin/skills/${i}`,t,{withCredentials:!0});l(F(s.data.updatedSkill))}catch(s){console.log("Error editing skills:",s)}finally{r(null)}else try{const s=await n.post("/api/admin/skills",t,{withCredentials:!0});l(C(s.data.skill))}catch(s){console.log("Error uploading skills: ",s)}c()},w=async t=>{r(t._id),a("title",t.title),a("icon",t.icon),a("content",t.content)},j=async t=>{if(window.confirm("Are you sure you want to delete this skill?"))try{await n.delete(`/api/admin/skills/${t}`,{withCredentials:!0}),l(A(t))}catch(s){console.log("Error deleting skill",s)}},N=t=>{t.preventDefault(),p(g)()};return e.jsxs("div",{className:"w-full h-full p-6 ",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Skills Management"}),e.jsx("p",{className:"text-white/60",children:"Manage your technical skills and expertise"})]})}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[e.jsx($,{className:"w-6 h-6 text-[#EF6A93]"}),i?"Edit Skill":"Add New Skill"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Skill Title"}),e.jsx("input",{...o("title",{required:!0}),type:"text",placeholder:"e.g., Frontend Development",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-[#EF6A93] transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Icon Class"}),e.jsx("input",{...o("icon",{required:!0}),type:"text",placeholder:"e.g., ri-flask-line",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-[#EF6A93] transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-white/80 text-sm font-medium",children:"Skill Sections"}),e.jsxs("button",{type:"button",onClick:()=>b({section:""}),className:"text-sm text-[#EF6A93] cursor-pointer hover:text-[#EF6A93]/80 flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4"}),"Add Section"]})]}),e.jsx("div",{className:"space-y-2",children:d.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{...o(`content.${s}.section`,{required:!0}),type:"text",placeholder:"e.g., HTML",className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-[#EF6A93] transition-colors"}),d.length>1&&e.jsx("button",{type:"button",onClick:()=>f(s),className:"p-3 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:e.jsx(m,{className:"w-4 h-4"})})]},t.id))})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:N,className:"px-6 py-3 bg-[#EF6A93] cursor-pointer rounded-lg hover:bg-[#EF6A93]/80 transition-colors font-semibold",children:i?"Update Skill":"Add Skill"}),i&&e.jsx("button",{type:"button",onClick:()=>{c(),r(null)},className:"px-6 py-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]}),e.jsx("div",{className:"space-y-4",children:h.map(t=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-[#EF6A93]/20 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:`${t.icon} text-2xl text-[#EF6A93]`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.content.map((s,y)=>e.jsx("span",{className:"px-3 py-1 bg-white/10 text-white/80 rounded text-sm",children:s.section},y))}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[e.jsxs("button",{onClick:()=>w(t),className:"px-4 py-2 bg-blue-500/20 cursor-pointer text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>j(t._id),className:"px-4 cursor-pointer py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Delete"]})]})]})]})},t._id))}),e.jsx("div",{className:"mt-8 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-400",children:[e.jsx("strong",{children:"Note:"})," Skills will be displayed on your portfolio's skills section. You can add unlimited skills and sections."]})}),e.jsx("link",{href:"https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css",rel:"stylesheet"})]})};export{z as default};
